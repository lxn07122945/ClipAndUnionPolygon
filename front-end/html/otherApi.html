<!doctype html>
<html>
    <head>
        <title>daily learning</title>
    </head>
    <body>
        <h3>一些常用的API</h3>
    </body>
    <script type="text/javascript">
        /**
         * 日期处理
         * 
         */
        var locTime = new Date();
        console.log(locTime);
        locTime.getTime();
        console.log(locTime.getTime());
        locTime.getDay();
        console.log(locTime.getDay()); // 获取星期几
        console.log(locTime.getDate()); // 获取几号
        
        locTime.getHours();
        locTime.getMonth();
        locTime.getFullYear();
        locTime.getMinutes();
        locTime.getSeconds();

        /**
         * 随机数
         * 
         */
        var locNum = parseInt(Math.random() * 100, 10); 
        console.log(locNum);
        /**
         * 数组API
         * 
         */
        var arr = ['a', 'b', 'c', 1, 2, 3];
        arr.forEach(function (item, index) {
            console.log(item, index);
        })

        // 遍历每个都满足
        var result = arr.every(function (item, index) {
            return index > 4 ? false : true;
        })
        console.log(result);
        // 遍历 存在满足的
        var result2 = arr.some(function (item, index) {
            return index > 4 ? false : true;
        })
        console.log(result2);

        // 排序
        console.log(arr.sort());

        // map遍历
        var arrmap = arr.map(function(item, index){
            return item + index;
        });
        console.log(arrmap);
        // 过滤
        var arrforEach = arr.filter(function(item, index){
            if (typeof item === 'string') {
                return item + index;
            }

        });

        console.log(arrforEach);

        var obj = {
            name: 'zhangsan',
            age: 25,
            scholl: 'CUMT',
            from: 'china'
        }
        for (key in obj) {
            console.log(obj[key]);
        };

        // 格式化日期的函数
        function formatDate (date) {
            if (!date) {
                date = new Date();
            }
            var year = date.getFullYear();
            var Month = date.getMonth() + 1;
            var day = date.getDate();
            if (Month < 10) {
                Month = '0' + Month;
            };
            if (day < 10) {
                day = '0' + day;
            }
            return year + '-' + Month + '-' + day;
        }
        console.log(formatDate(locTime));

        // 写一个forEach可以遍历对象和数组
        function forEach(param, fn) {
            if (param instanceof Array) {
                param.map((item, index) => {
                    fn(item, index);
                });
            } else {
                for (key in param) {
                    if (param.hasOwnProperty(key)) {
                        fn (param[key], key);
                    }
                }
            }
        };

    </script>
</html>
